(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2297da"],{de58:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("CreateForm",{on:{resolve:e.onResolve,reject:e.onReject}}),e.formValid&&e.pb_create_part.data.id?a("PointConfigurator",{attrs:{width:400,id:parseInt(e.pb_create_part.data.id),urlFrontImage:e.imageFrontSrc,urlBackImage:e.imageBackSrc,related:"part"}}):e._e()],1)},i=[],n=(a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{"error-messages":e.nameErrors,required:"",label:"Enter skeleton name: *"},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),a("v-row",[a("v-col",[a("v-file-input",{attrs:{"error-messages":e.imageFrontErrors,required:"",label:"Choose a PNG image front part"},on:{input:function(t){return e.$v.imageFront.$touch()},blur:function(t){return e.$v.imageFront.$touch()}},model:{value:e.imageFront,callback:function(t){e.imageFront=t},expression:"imageFront"}})],1),a("v-col",[a("v-file-input",{attrs:{"error-messages":e.imageBackErrors,required:"",label:"Choose a PNG image back part"},on:{input:function(t){return e.$v.imageBack.$touch()},blur:function(t){return e.$v.imageBack.$touch()}},model:{value:e.imageBack,callback:function(t){e.imageBack=t},expression:"imageBack"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"9"}}),a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{block:"",color:"primary"},on:{click:e.validForm}},[e._v("Next")])],1)],1)],1)}),o=[],c=a("1dce"),s=a("b5ae"),u={mixins:[c["validationMixin"]],validations:{name:{required:s["required"]},imageFront:{required:s["required"]},imageBack:{required:s["required"]}},data:function(){return{name:null,imageFront:null,imageBack:null}},created:function(){},methods:{validForm:function(){if(this.$v.$touch(),this.$v.$invalid)this.$emit("reject",{isValid:!this.$v.$invalid});else{var e={name:this.name,weight:this.weight,imageFront:this.imageFront,imageBack:this.imageBack};this.$emit("resolve",{isValid:!this.$v.$invalid,data:e})}}},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.required&&e.push("Name is required."),e):e},imageFrontErrors:function(){var e=[];return this.$v.imageFront.$dirty?(!this.$v.imageFront.required&&e.push("Image front is required."),e):e},imageBackErrors:function(){var e=[];return this.$v.imageBack.$dirty?(!this.$v.imageBack.required&&e.push("Image back is required."),e):e}}},m=u,l=a("2877"),d=a("6544"),v=a.n(d),h=a("8336"),g=a("62ad"),p=a("a75b"),f=a("23a7"),$=a("0fd9"),b=a("8654"),k=Object(l["a"])(m,n,o,!1,null,null,null),_=k.exports;v()(k,{VBtn:h["a"],VCol:g["a"],VContent:p["a"],VFileInput:f["a"],VRow:$["a"],VTextField:b["a"]});var F=a("96e9"),B={components:{CreateForm:_,PointConfigurator:F["a"]},data:function(){return{formValid:!1,name:null,imageFront:null,imageBack:null}},destroyed:function(){this.$store.dispatch("pb_clear_all_data")},created:function(){},mounted:function(){},methods:{onResolve:function(e){var t=e.isValid,a=e.data;this.name=a.name,this.imageFront=a.imageFront,this.imageBack=a.imageBack,this.formValid=t,this.savePart()},onReject:function(e){var t=e.isValid;this.formValid=t},savePart:function(){if(void 0===this.pb_create_part.status){var e={name:this.name,image_front:this.imageFront,image_back:this.imageBack};this.$store.dispatch("pb_create_part",e)}else if("success"===this.pb_create_part.status){var t={id:parseInt(this.pb_create_part.data.id),name:this.name};this.$store.dispatch("pb_update_part",t)}}},computed:{imageFrontSrc:function(){return URL.createObjectURL(this.imageFront)},imageBackSrc:function(){return URL.createObjectURL(this.imageBack)},pb_create_part:function(){return this.$store.getters.pb_create_part}}},q=B,V=Object(l["a"])(q,r,i,!1,null,null,null);t["default"]=V.exports;v()(V,{VContent:p["a"]})}}]);
//# sourceMappingURL=chunk-2d2297da.2d2823fb.js.map