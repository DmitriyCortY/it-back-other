(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9ac7"],{"8f14":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("ChooseSkelet",{attrs:{update:!1},on:{resolve:t.onResolve,reject:t.onReject}}),a("v-divider"),t.akb_load_kit_relation_all_loaded&&t.formValid?a("ChooseProduct",{attrs:{side:t.side,akb_load_kit_relation:t.akb_load_kit_relation},on:{data_transfer:t.on_data_transfer}}):t._e(),a("v-divider"),t.akb_load_kit_relation_all_loaded&&t.formValid?a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"blue",block:""},on:{click:t.flip_side}},[t._v("Flip side")])],1),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"primary",block:""},on:{click:t.save_data}},[t._v("Save data")])],1)],1):t._e()],1)},o=[],s=a("5530"),_=a("68d6"),r=a("e225"),d={components:{ChooseSkelet:_["a"],ChooseProduct:r["a"]},data:function(){return{formValid:!1,list_selected_attach:{front:[],back:[]},side:"front"}},destroyed:function(){this.$store.dispatch("akb_drop_all_data")},methods:{onResolve:function(t){var e=t.isValid,a=t.data;this.formValid=e,this.$store.dispatch("akb_load_kit_relation",parseInt(a.skeleton_id)),void 0===this.akb_create_kit.id?this.$store.dispatch("akb_create_kit",a):this.$store.dispatch("akb_update_kit",Object(s["a"])({id:this.akb_create_kit.id},a))},onReject:function(t){var e=t.isValid;this.formValid=e},flip_side:function(){"front"===this.side?this.side="back":"back"===this.side?this.side="front":console.error("Has error in side")},on_data_transfer:function(t){this.$set(this.list_selected_attach,"front",t.front),this.$set(this.list_selected_attach,"back",t.back)},save_data:function(){for(var t=[],e=0;e<this.list_selected_attach.front.length;e++)t.push({product_id:parseInt(this.list_selected_attach.front[e].product_id),product_point_id:parseInt(this.list_selected_attach.front[e].product_point_id),parent_skeleton_point_id:this.list_selected_attach.front[e].parent_skeleton_point_id?parseInt(this.list_selected_attach.front[e].parent_skeleton_point_id):void 0,parent_product_point_id:this.list_selected_attach.front[e].parent_product_point_id?parseInt(this.list_selected_attach.front[e].parent_product_point_id):void 0,kit_id:parseInt(this.akb_create_kit.id)});for(var a=0;a<this.list_selected_attach.back.length;a++)t.push({product_id:parseInt(this.list_selected_attach.back[a].product_id),product_point_id:parseInt(this.list_selected_attach.back[a].product_point_id),parent_skeleton_point_id:this.list_selected_attach.back[a].parent_skeleton_point_id?parseInt(this.list_selected_attach.back[a].parent_skeleton_point_id):void 0,parent_product_point_id:this.list_selected_attach.back[a].parent_product_point_id?parseInt(this.list_selected_attach.back[a].parent_product_point_id):void 0,kit_id:parseInt(this.akb_create_kit.id)});this.$store.dispatch("akb_save_kit_products",t)}},computed:{akb_create_kit:function(){return this.$store.getters.akb_create_kit},akb_load_kit_relation:function(){return this.$store.getters.akb_load_kit_relation},akb_load_kit_relation_all_loaded:function(){return this.$store.getters.akb_load_kit_relation_all_loaded}}},n=d,c=a("2877"),l=a("6544"),p=a.n(l),h=a("8336"),k=a("62ad"),f=a("a75b"),u=a("ce7e"),b=a("0fd9"),v=Object(c["a"])(n,i,o,!1,null,null,null);e["default"]=v.exports;p()(v,{VBtn:h["a"],VCol:k["a"],VContent:f["a"],VDivider:u["a"],VRow:b["a"]})}}]);
//# sourceMappingURL=chunk-2d0e9ac7.259af02a.js.map