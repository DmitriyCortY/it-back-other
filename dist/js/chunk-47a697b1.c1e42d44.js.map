{"version":3,"sources":["webpack:///./src/components/OutputConf.vue?a5de","webpack:///./src/components/OutputConf.vue?7dae","webpack:///src/components/OutputConf.vue","webpack:///./src/components/OutputConf.vue?c4b4","webpack:///./src/components/OutputConf.vue","webpack:///./src/components/BaseBuilder/Update.vue?52d1","webpack:///src/components/BaseBuilder/Update.vue","webpack:///./src/components/BaseBuilder/Update.vue?86df","webpack:///./src/components/BaseBuilder/Update.vue","webpack:///./src/components/BaseBuilder/help/ChooseSkelet.vue?e94a","webpack:///src/components/BaseBuilder/help/ChooseSkelet.vue","webpack:///./src/components/BaseBuilder/help/ChooseSkelet.vue?e8b7","webpack:///./src/components/BaseBuilder/help/ChooseSkelet.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","width","canvas_width","minWidth","maxWidth","attrs","side","skeleton_data","image_front","image_back","_l","list_product","item","index","key","top","pos","y","left","x","zIndex","z_index","image","hint","staticRenderFns","front","back","component","VCard","VContent","bb_base_by_id","bb_base_relations","on","onResolve","onReject","_e","list_selected_attach","merge_classes","length","$event","select_category","_v","_s","name","staticStyle","get_part_name_img","img","detect_selected_attach","validation_selected_item","delete_of_the_selected_list","flip_side","save_base_builder_data","model","value","callback","$$v","select_skeleton_point_dialog","expression","list_for_select_skeleton_point","selected_point_error","$v","selected_point","$touch","cancel_form_skeleton","form_valid_skeleton","select_parent_part_point_dialog","cancel_form_parent_part","form_valid_parent_part","select_parent_part_or_skeleton","part_or_skeleton_error","part_or_skeleton","cancel_form_part_or_skeleton","form_valid_part_or_skeleton","components","ChooseSkelet","Conf","data","formValid","suitable_attachment","selected_point_data","intermediate_attach_data","merge_upload_and_data_bool","created","destroyed","$store","dispatch","methods","isValid","console","error","list_ids_suitable_skeleton_points","push","list","part_id","parseInt","all_parts_data","j","id","part_point_id","list_parts_points","skeleton_suitable_points","list_ids_suitable_parent_part_points","parent_part_suitable_points","filter","answ","part_suitable_points","push_to_selected_list","skeleton_point_id","point_id","install_parent_attach","parent_part_point_id","i","install_related_attachment","answer","$invalid","current_part_point_id","create_item","current_part_point","current_skeleton_point","curent_parent_part_point","part_point","related_id","skeleton_point","parent_part_point","base_id","$route","params","computed","$dirty","required","errors","bb_load_base_relations_status","getters","Array","from","Set","list_data_of_used_classes_for_skeleton","concat","list_data_of_used_classes_for_part","VBtn","VCardText","VCardTitle","VCol","VDialog","VDivider","VIcon","VRow","VSelect","nameErrors","skeletons","selectedSkeletErrors","update","selectedSkelet","categorys","selectedCategoryErrors","selectedCategory","description","save","props","mixins","validations","baseData","skeleton_id","category","mounted","$emit","sb_all_skeletons_data","all_categoryes","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-47a697b1.c1e42d44.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutputConf.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutputConf.vue?vue&type=style&index=0&lang=scss&scope=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-card',[_c('div',{staticClass:\"b-image-container\"},[_c('div',{staticClass:\"b-image-container__inner\"},[_c('div',{staticClass:\"b-image-container__content\",style:({width: _vm.canvas_width,minWidth: _vm.canvas_width,maxWidth: _vm.canvas_width})},[_c('img',{attrs:{\"src\":(_vm.side === 'front') ? _vm.skeleton_data.image_front : (_vm.side === 'back') ? _vm.skeleton_data.image_back : 'error',\"width\":_vm.canvas_width + 'px'}}),_vm._l((_vm.list_product[_vm.side]),function(item,index){return _c('img',{key:'image' + index,staticClass:\"b-image-container__image\",style:({top: item.pos.y, left: item.pos.x, width: item.width, zIndex: item.z_index}),attrs:{\"src\":item.image[_vm.side],\"title\":item.hint}})})],2)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-content>\r\n        <v-card>\r\n            <div class=\"b-image-container\">\r\n                <div class=\"b-image-container__inner\">\r\n                    <div class=\"b-image-container__content\" :style=\"{width: canvas_width,minWidth: canvas_width,maxWidth: canvas_width}\">\r\n                        <img :src=\"(side === 'front') ? skeleton_data.image_front : (side === 'back') ? skeleton_data.image_back : 'error'\" :width=\"canvas_width + 'px'\">\r\n                        \r\n                        <img \r\n                            v-for=\"(item, index) in list_product[side]\" \r\n                            :key=\"'image' + index\" \r\n                            :src=\"item.image[side]\" \r\n                            :title=\"item.hint\"\r\n                            class=\"b-image-container__image\"\r\n                            :style=\"{top: item.pos.y, left: item.pos.x, width: item.width, zIndex: item.z_index}\"\r\n                        >\r\n                        <!-- <div v-if=\"side === 'front'\">\r\n                            <img \r\n                                v-for=\"(item, index) in attachments['front']\" \r\n                                :key=\"'front' + index\" \r\n                                :src=\"get_part_data(item, 'front').image[side]\" \r\n                                :title=\"get_part_data(item, 'front').hint\"\r\n                                class=\"b-image-container__image\"\r\n                                :style=\"{top: get_part_data(item, 'front').pos.y, left: get_part_data(item, 'front').pos.x, width: get_part_data(item, 'front').width, zIndex: get_part_data(item, 'front').z_index}\"\r\n                            >\r\n                        </div>\r\n                        <div v-if=\"side === 'back'\">\r\n                            <img \r\n                                v-for=\"(item, index) in attachments['back']\" \r\n                                :key=\"'back' + index\" \r\n                                :src=\"get_part_data(item, 'back').image[side]\" \r\n                                :title=\"get_part_data(item, 'back').hint\"\r\n                                class=\"b-image-container__image\"\r\n                                :style=\"{top: get_part_data(item, 'back').pos.y, left: get_part_data(item, 'back').pos.x, width: get_part_data(item, 'back').width, zIndex: get_part_data(item, 'back').z_index}\"\r\n                            >\r\n                        </div> -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </v-card>\r\n    </v-content>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['skeleton_data', 'attachments', 'config', 'side'],\r\n    watch: {\r\n        attachments: {\r\n            immediate: true,\r\n            handler(){\r\n                this.get_part_data()\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    data(){\r\n        return {\r\n            canvas_width: 500,\r\n            radio: {\r\n                front: null,\r\n                back: null\r\n            },\r\n            list_product: {\r\n                front: [],\r\n                back: []\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.get_radio(this.skeleton_data.image_front, 'front')\r\n        this.get_radio(this.skeleton_data.image_back, 'back')\r\n\r\n        let interval = setInterval(()=>{\r\n           this.get_part_data()\r\n            \r\n            if(this.attachments['front'].length > 0 || this.attachments['back'].length > 0){\r\n                clearInterval(interval)\r\n            }\r\n        },100)\r\n    },\r\n    methods: {\r\n        get_radio(url, side){\r\n            let width = null\r\n            let img = new Image();\r\n            img.onload =  e =>{\r\n                if(side === 'front'){\r\n                    this.radio.front = this.canvas_width /  e.target.width\r\n                }else if(side === 'back'){\r\n                    this.radio.back = this.canvas_width /  e.target.width\r\n                }\r\n            }\r\n            img.src = url\r\n            return width\r\n        },\r\n        async get_part_data(){\r\n            this.list_product[this.side] = []\r\n            for(let i = 0; i < this.attachments[this.side].length; i++){\r\n                let item =     this.attachments[this.side][i]\r\n                let part_pos = {\r\n                    x: this.config.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].pos_x,\r\n                    y: this.config.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].pos_y\r\n                }\r\n                let answer = {\r\n                        pos: {\r\n                            x: null,\r\n                            y: null\r\n                        },\r\n                        image: {\r\n                            front: this.config.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_front,\r\n                            back: this.config.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_back\r\n                        },\r\n                        width: await this.get_image_width(this.config.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_front) + 'px'   ,\r\n                        hint: this.config.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].hint,\r\n                        z_index: null\r\n                }\r\n                if(item.skeleton_point_id){\r\n                    let skeleton_point_pos = {\r\n                        x: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(item.skeleton_point_id))[0].pos_x,\r\n                        y: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(item.skeleton_point_id))[0].pos_y\r\n                    }\r\n\r\n                        answer.pos.x = ((parseInt(skeleton_point_pos.x) - parseInt(part_pos.x)) * this.radio[this.side]) + 'px'\r\n                        answer.pos.y = ((parseInt(skeleton_point_pos.y) - parseInt(part_pos.y)) * this.radio[this.side]) + 'px'\r\n                        answer.z_index = 0\r\n                }else if(item.parent_part_point_id){\r\n                    let parent_part_point_id = parseInt(item.parent_part_point_id)\r\n                    let parent_part_point_data = this.config.list_parts_points.filter(elem => parseInt(elem.id) === parent_part_point_id)[0]\r\n                    let parent_part_id = parseInt(this.config.list_parts_points.filter(elem => parseInt(elem.id) === parent_part_point_id)[0].part_id)\r\n                    let parent_part_point_plus_data = this.config.list_parts_points.filter(elem => (parseInt(elem.part_id) === parent_part_id && elem.type === 'Minus' && elem.side === this.side))[0]\r\n                    let current_parent_part_data = this.attachments[this.side].filter(elem=> parseInt(elem.part_point_id) === parseInt(parent_part_point_plus_data.id))[0]\r\n\r\n                    let skeleton_point_pos = {\r\n                        x: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(current_parent_part_data.skeleton_point_id))[0].pos_x,\r\n                        y: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(current_parent_part_data.skeleton_point_id))[0].pos_y\r\n                    }\r\n                    \r\n                    answer.pos.x = ((parseInt(skeleton_point_pos.x) + parseInt(parent_part_point_data.pos_x) - parseInt(parent_part_point_plus_data.pos_x) - parseInt(part_pos.x)) * this.radio[this.side]) + 'px'\r\n                    answer.pos.y = ((parseInt(skeleton_point_pos.y) + parseInt(parent_part_point_data.pos_y) - parseInt(parent_part_point_plus_data.pos_y) - parseInt(part_pos.y)) * this.radio[this.side]) + 'px'\r\n                    answer.z_index = 1\r\n                }\r\n                \r\n                this.list_product[this.side].push(answer)\r\n            }\r\n        },\r\n        async get_image_width(src){\r\n            let img = new Image();\r\n            let width = ()=> (img.width * this.radio[this.side])\r\n            img.onload = await width()\r\n            img.src = src\r\n            return width()\r\n        }\r\n        // get_radio(url, side){\r\n        //     let width = null\r\n        //     let img = new Image();\r\n        //     img.onload =  e =>{\r\n        //         if(side === 'front'){\r\n        //             this.radio.front = this.canvas_width /  e.target.width\r\n        //         }else if(side === 'back'){\r\n        //             this.radio.back = this.canvas_width /  e.target.width\r\n        //         }\r\n        //     }\r\n        //     img.src = url\r\n        //     return width\r\n        // },\r\n        // get_part_data(item, current_side){\r\n        //     let part_pos = {\r\n        //         x: this.config.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].pos_x,\r\n        //         y: this.config.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].pos_y\r\n        //     }\r\n        //     let answer = {\r\n        //             pos: {\r\n        //                 x: null,\r\n        //                 y: null\r\n        //             },\r\n        //             image: {\r\n        //                 front: this.config.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_front,\r\n        //                 back: this.config.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_back\r\n        //             },\r\n        //             width: this.get_image_width(this.config.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_front) + 'px'   ,\r\n        //             hint: this.config.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].hint,\r\n        //             z_index: null\r\n        //     }\r\n        //     if(item.skeleton_point_id){\r\n        //         let skeleton_point_pos = {\r\n        //             x: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(item.skeleton_point_id))[0].pos_x,\r\n        //             y: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(item.skeleton_point_id))[0].pos_y\r\n        //         }\r\n\r\n        //             answer.pos.x = ((parseInt(skeleton_point_pos.x) - parseInt(part_pos.x)) * this.radio[this.side]) + 'px'\r\n        //             answer.pos.y = ((parseInt(skeleton_point_pos.y) - parseInt(part_pos.y)) * this.radio[this.side]) + 'px'\r\n        //             answer.z_index = 0\r\n        //     }else if(item.parent_part_point_id){\r\n        //         let parent_part_point_id = parseInt(item.parent_part_point_id)\r\n        //         let parent_part_point_data = this.config.list_parts_points.filter(elem => parseInt(elem.id) === parent_part_point_id)[0]\r\n        //         let parent_part_id = parseInt(this.config.list_parts_points.filter(elem => parseInt(elem.id) === parent_part_point_id)[0].part_id)\r\n        //         let parent_part_point_plus_data = this.config.list_parts_points.filter(elem => (parseInt(elem.part_id) === parent_part_id && elem.type === 'Minus' && elem.side === this.side))[0]\r\n        //         let current_parent_part_data = this.attachments[current_side].filter(elem=> parseInt(elem.part_point_id) === parseInt(parent_part_point_plus_data.id))[0]\r\n\r\n        //         let skeleton_point_pos = {\r\n        //             x: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(current_parent_part_data.skeleton_point_id))[0].pos_x,\r\n        //             y: this.config.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(current_parent_part_data.skeleton_point_id))[0].pos_y\r\n        //         }\r\n                \r\n        //         answer.pos.x = ((parseInt(skeleton_point_pos.x) + parseInt(parent_part_point_data.pos_x) - parseInt(parent_part_point_plus_data.pos_x) - parseInt(part_pos.x)) * this.radio[this.side]) + 'px'\r\n        //         answer.pos.y = ((parseInt(skeleton_point_pos.y) + parseInt(parent_part_point_data.pos_y) - parseInt(parent_part_point_plus_data.pos_y) - parseInt(part_pos.y)) * this.radio[this.side]) + 'px'\r\n        //         answer.z_index = 1\r\n        //     }\r\n            \r\n        //     return answer\r\n        // },\r\n        // get_image_width(src){\r\n        //     let img = new Image();\r\n        //     img.src = src\r\n        //     return (img.width * this.radio[this.side])\r\n        // },\r\n        \r\n    },\r\n    computed: {\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scope>\r\n    .b-image-container{\r\n        overflow: auto;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .b-image-container__inner{\r\n        width: 1100px;\r\n        min-width: 1100px;\r\n        max-width: 1100px;\r\n        padding: 150px 300px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .b-image-container__content{\r\n        position: relative;\r\n    }\r\n    .b-image-container__image{\r\n        position: absolute;\r\n        display: block;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutputConf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutputConf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OutputConf.vue?vue&type=template&id=a57934b2&\"\nimport script from \"./OutputConf.vue?vue&type=script&lang=js&\"\nexport * from \"./OutputConf.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OutputConf.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VCard,VContent})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[(_vm.bb_base_by_id.id)?_c('ChooseSkelet',{attrs:{\"update\":true,\"bb_base_relations\":_vm.bb_base_relations,\"baseData\":_vm.bb_base_by_id},on:{\"resolve\":_vm.onResolve,\"reject\":_vm.onReject}}):_vm._e(),_c('v-divider'),_c('br'),(_vm.formValid)?_c('div',[(_vm.bb_load_base_relations_status)?_c('Conf',{attrs:{\"skeleton_data\":_vm.bb_base_relations.skeleton_data,\"attachments\":_vm.list_selected_attach,\"config\":_vm.bb_base_relations,\"side\":_vm.side}}):_vm._e(),(_vm.merge_classes.length > 0)?_c('v-row',_vm._l((_vm.merge_classes),function(item,index){return _c('v-col',{key:'c-up'+index,attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('v-card',{staticClass:\"pa-2\",on:{\"click\":function($event){return _vm.select_category(item)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])],1)}),1):_vm._e(),_c('v-row',_vm._l((_vm.suitable_attachment),function(item,index){return _c('v-col',{key:'up' + index,attrs:{\"cols\":\"4\"}},[_c('v-card',{staticClass:\"pa-2\"},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('h5',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(_vm._s(_vm.get_part_name_img(item).name))])]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('img',{staticStyle:{\"max-width\":\"80px\",\"max-height\":\"80px\",\"display\":\"block\",\"margin\":\"auto\"},attrs:{\"src\":_vm.get_part_name_img(item).img}})]),(!_vm.detect_selected_attach(item))?_c('v-btn',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.validation_selected_item(item)}}},[_c('v-icon',[_vm._v(\" mdi-plus-circle-outline \")])],1):_vm._e(),(_vm.detect_selected_attach(item))?_c('v-btn',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){return _vm.delete_of_the_selected_list(item)}}},[_c('v-icon',[_vm._v(\" mdi-minus-circle-outline \")])],1):_vm._e()],1)],1)],1)}),1),_c('v-row',{attrs:{\"justify\":\"end\"}},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.flip_side}},[_vm._v(\"Flip side\")])],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.save_base_builder_data}},[_vm._v(\"Save Base Builder Data\")])],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"560\"},model:{value:(_vm.select_skeleton_point_dialog),callback:function ($$v) {_vm.select_skeleton_point_dialog=$$v},expression:\"select_skeleton_point_dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-2\",attrs:{\"primary-title\":\"\"}},[_vm._v(\"Need select a point on the skeleton\")]),_c('v-divider'),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.list_for_select_skeleton_point,\"item-text\":\"skeleton_point_name\",\"item-value\":\"skeleton_point_id\",\"error-messages\":_vm.selected_point_error,\"required\":\"\"},on:{\"input\":function($event){return _vm.$v.selected_point.$touch()},\"blur\":function($event){return _vm.$v.selected_point.$touch()}},model:{value:(_vm.selected_point),callback:function ($$v) {_vm.selected_point=$$v},expression:\"selected_point\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"danger\",\"block\":\"\"},on:{\"click\":_vm.cancel_form_skeleton}},[_vm._v(\"Cancel\")])],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.form_valid_skeleton}},[_vm._v(\"Select\")])],1)],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"560\"},model:{value:(_vm.select_parent_part_point_dialog),callback:function ($$v) {_vm.select_parent_part_point_dialog=$$v},expression:\"select_parent_part_point_dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-2\",attrs:{\"primary-title\":\"\"}},[_vm._v(\"Need select a point on the skeleton\")]),_c('v-divider'),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.list_for_select_skeleton_point,\"item-text\":\"parent_part_point_name\",\"item-value\":\"parent_part_point_id\",\"error-messages\":_vm.selected_point_error,\"required\":\"\"},on:{\"input\":function($event){return _vm.$v.selected_point.$touch()},\"blur\":function($event){return _vm.$v.selected_point.$touch()}},model:{value:(_vm.selected_point),callback:function ($$v) {_vm.selected_point=$$v},expression:\"selected_point\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"danger\",\"block\":\"\"},on:{\"click\":_vm.cancel_form_parent_part}},[_vm._v(\"Cancel\")])],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.form_valid_parent_part}},[_vm._v(\"Select\")])],1)],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"560\"},model:{value:(_vm.select_parent_part_or_skeleton),callback:function ($$v) {_vm.select_parent_part_or_skeleton=$$v},expression:\"select_parent_part_or_skeleton\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-2\",attrs:{\"primary-title\":\"\"}},[_vm._v(\"Need to choose where to wear\")]),_c('v-divider'),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":[{name: 'Skeleton', value: 'skeleton'}, {name: 'Part', value: 'part'}],\"item-text\":\"name\",\"item-value\":\"value\",\"error-messages\":_vm.part_or_skeleton_error,\"required\":\"\"},on:{\"input\":function($event){return _vm.$v.part_or_skeleton.$touch()},\"blur\":function($event){return _vm.$v.part_or_skeleton.$touch()}},model:{value:(_vm.part_or_skeleton),callback:function ($$v) {_vm.part_or_skeleton=$$v},expression:\"part_or_skeleton\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"danger\",\"block\":\"\"},on:{\"click\":_vm.cancel_form_part_or_skeleton}},[_vm._v(\"Cancel\")])],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.form_valid_part_or_skeleton}},[_vm._v(\"Select\")])],1)],1)],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-content>\r\n        <ChooseSkelet \r\n            v-if=\"bb_base_by_id.id\"\r\n            @resolve=\"onResolve\" \r\n            :update=\"true\" \r\n            @reject=\"onReject\" \r\n            :bb_base_relations=\"bb_base_relations\"\r\n            :baseData=\"bb_base_by_id\"\r\n        ></ChooseSkelet>\r\n\r\n        <v-divider></v-divider>\r\n        <br>\r\n        <div v-if=\"formValid\">\r\n            <Conf\r\n                v-if=\"bb_load_base_relations_status\"\r\n                :skeleton_data=\"bb_base_relations.skeleton_data\"\r\n                :attachments=\"list_selected_attach\"\r\n                :config=\"bb_base_relations\"\r\n                :side=\"side\"\r\n            ></Conf>\r\n\r\n            <v-row v-if=\"merge_classes.length > 0\">\r\n                <v-col cols=\"12\" md=\"3\" sm=\"6\" v-for=\"(item, index) in merge_classes\" :key=\"'c-up'+index\">\r\n                <v-card class=\"pa-2\" @click=\"select_category(item)\">\r\n                    {{item.name}}\r\n                </v-card>\r\n                </v-col>\r\n            </v-row>\r\n            \r\n            <v-row>\r\n                <v-col cols=\"4\" v-for=\"(item, index) in suitable_attachment\" :key=\"'up' + index\">\r\n                <v-card class=\"pa-2\">\r\n                    <v-row align=\"center\" justify=\"center\">\r\n                    <v-col cols=\"8\">\r\n                        <h5 style=\"text-transform: uppercase\">{{get_part_name_img(item).name}}</h5>\r\n                    </v-col>\r\n                    <v-col cols=\"4\">\r\n                        <img :src=\"get_part_name_img(item).img\" style=\"max-width: 80px;max-height: 80px; display: block; margin: auto;\"> \r\n                    </v-col>\r\n                        <v-btn color=\"primary\" text style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" v-if=\"!detect_selected_attach(item)\" @click=\"validation_selected_item(item)\">\r\n                        <v-icon>\r\n                            mdi-plus-circle-outline\r\n                        </v-icon>\r\n                        </v-btn>\r\n                        <v-btn color=\"red\" text style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" v-if=\"detect_selected_attach(item)\" @click=\"delete_of_the_selected_list(item)\">\r\n                        <v-icon>\r\n                            mdi-minus-circle-outline\r\n                        </v-icon>\r\n                        </v-btn>\r\n                    </v-row>\r\n                </v-card>\r\n                </v-col>\r\n            </v-row>\r\n            \r\n            <v-row justify=\"end\">\r\n                <v-col cols=\"6\">\r\n                <v-btn block color=\"primary\" @click=\"flip_side\">Flip side</v-btn>\r\n                </v-col>\r\n                <v-col cols=\"6\">\r\n                <v-btn block color=\"primary\" @click=\"save_base_builder_data\">Save Base Builder Data</v-btn>\r\n                </v-col>\r\n            </v-row>\r\n            \r\n            <v-dialog v-model=\"select_skeleton_point_dialog\" persistent width=\"560\">\r\n                <v-card>\r\n                <v-card-title class=\"grey lighten-2\" primary-title>Need select a point on the skeleton</v-card-title>\r\n                <v-divider></v-divider>\r\n                <v-card-text>\r\n                    <v-row>\r\n                    <v-col cols=\"12\">\r\n                        <v-select \r\n                        :items=\"list_for_select_skeleton_point\" \r\n                        item-text=\"skeleton_point_name\" \r\n                        item-value=\"skeleton_point_id\"\r\n                        v-model=\"selected_point\"\r\n                        :error-messages=\"selected_point_error\"\r\n                        required\r\n                        @input=\"$v.selected_point.$touch()\"\r\n                        @blur=\"$v.selected_point.$touch()\"\r\n                        ></v-select>\r\n                    </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                    <v-col cols=\"6\">\r\n                        <v-btn color=\"danger\" block @click=\"cancel_form_skeleton\">Cancel</v-btn>\r\n                    </v-col>\r\n                    <v-col cols=\"6\">\r\n                        <v-btn color=\"primary\" block @click=\"form_valid_skeleton\">Select</v-btn>\r\n                    </v-col>\r\n                    </v-row>\r\n                </v-card-text>\r\n                </v-card>\r\n            </v-dialog>\r\n            <v-dialog v-model=\"select_parent_part_point_dialog\" persistent width=\"560\">\r\n                <v-card>\r\n                <v-card-title class=\"grey lighten-2\" primary-title>Need select a point on the skeleton</v-card-title>\r\n                <v-divider></v-divider>\r\n                <v-card-text>\r\n                    <v-row>\r\n                    <v-col cols=\"12\">\r\n                        <v-select \r\n                        :items=\"list_for_select_skeleton_point\" \r\n                        item-text=\"parent_part_point_name\" \r\n                        item-value=\"parent_part_point_id\"\r\n                        v-model=\"selected_point\"\r\n                        :error-messages=\"selected_point_error\"\r\n                        required\r\n                        @input=\"$v.selected_point.$touch()\"\r\n                        @blur=\"$v.selected_point.$touch()\"\r\n                        ></v-select>\r\n                    </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                    <v-col cols=\"6\">\r\n                        <v-btn color=\"danger\" block @click=\"cancel_form_parent_part\">Cancel</v-btn>\r\n                    </v-col>\r\n                    <v-col cols=\"6\">\r\n                        <v-btn color=\"primary\" block @click=\"form_valid_parent_part\">Select</v-btn>\r\n                    </v-col>\r\n                    </v-row>\r\n                </v-card-text>\r\n                </v-card>\r\n            </v-dialog>\r\n            <v-dialog v-model=\"select_parent_part_or_skeleton\" persistent width=\"560\">\r\n                <v-card>\r\n                <v-card-title class=\"grey lighten-2\" primary-title>Need to choose where to wear</v-card-title>\r\n                <v-divider></v-divider>\r\n                <v-card-text>\r\n                    <v-row>\r\n                    <v-col  cols=\"12\">\r\n                        <v-select\r\n                        :items=\"[{name: 'Skeleton', value: 'skeleton'}, {name: 'Part', value: 'part'}]\"\r\n                        item-text=\"name\" \r\n                        item-value=\"value\"\r\n                        v-model=\"part_or_skeleton\"\r\n                        :error-messages=\"part_or_skeleton_error\"\r\n                        required\r\n                        @input=\"$v.part_or_skeleton.$touch()\"\r\n                        @blur=\"$v.part_or_skeleton.$touch()\"\r\n                        ></v-select>\r\n                    </v-col>\r\n                    <v-col cols=\"6\">\r\n                        <v-btn color=\"danger\" block @click=\"cancel_form_part_or_skeleton\">Cancel</v-btn>\r\n                    </v-col>\r\n                    <v-col cols=\"6\">\r\n                        <v-btn color=\"primary\" block @click=\"form_valid_part_or_skeleton\">Select</v-btn>\r\n                    </v-col>\r\n                    </v-row>\r\n                </v-card-text>\r\n                </v-card>\r\n            </v-dialog>\r\n        </div>\r\n    </v-content>\r\n</template>\r\n\r\n<script>\r\nimport ChooseSkelet from \"@/components/BaseBuilder/help/ChooseSkelet.vue\";\r\nimport Conf from \"@/components/OutputConf.vue\";\r\nimport { required } from \"vuelidate/lib/validators\";\r\nexport default {\r\n    validations: {\r\n    selected_point: { required },\r\n    part_or_skeleton: { required },\r\n  },\r\ncomponents: {\r\n    ChooseSkelet,\r\n    Conf\r\n  },\r\n  data() {\r\n    return {\r\n      formValid: true,\r\n      suitable_attachment: [],\r\n      list_selected_attach: {\r\n        front: [],\r\n        back: []\r\n      },\r\n      select_parent_part_point_dialog: false,\r\n      select_skeleton_point_dialog: false,\r\n      list_for_select_skeleton_point: [],\r\n      selected_point_data: null,\r\n      selected_point: null,\r\n      side: 'front',\r\n      select_parent_part_or_skeleton: false,\r\n      part_or_skeleton: null,\r\n      intermediate_attach_data: null,\r\n      merge_upload_and_data_bool: true\r\n    };\r\n  },\r\n  created(){\r\n      this.$store.dispatch('bb_load_base_by_id', parseInt(this.$route.params.id))\r\n      this.$store.dispatch('bb_get_all_base_builder_attach_by_base_id', parseInt(this.$route.params.id))\r\n\r\n      let interval = setInterval(()=> {\r\n        if(this.bb_base_relations.list_parts_points){\r\n            for(let i in this.$store.getters.bb_get_all_base_builder_attach_by_base_id){\r\n                this.list_selected_attach[this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(this.$store.getters.bb_get_all_base_builder_attach_by_base_id[i].part_point_id))[0].side].push(\r\n                    this.$store.getters.bb_get_all_base_builder_attach_by_base_id[i]\r\n                )\r\n            }\r\n            clearInterval(interval)\r\n        }\r\n      }, 150)\r\n  },\r\n  destroyed() {\r\n    this.$store.dispatch(\"bb_clear_all_data\");\r\n  },\r\n  methods: {\r\n    // Обработка коректного ответа\r\n    onResolve({ isValid, data }) {\r\n      this.formValid = isValid;\r\n      // Загружаем данныех всех связей со скелетом\r\n\r\n      // Создаем базу\r\n      if(this.bb_base_by_id.id === undefined){\r\n        this.$store.dispatch('bb_create_base', data)\r\n      }else {\r\n        this.$store.dispatch('bb_update_base', {id:this.bb_base_by_id.id, data})\r\n      }\r\n    },\r\n    //  Обработка ошибачного ответа\r\n    onReject({ isValid }) {\r\n      this.formValid = isValid;\r\n    },\r\n    // переворот сторон\r\n    flip_side(){\r\n      this.suitable_attachment = []\r\n      if(this.side === 'front'){\r\n        this.side = 'back'\r\n      }else if (this.side === 'back'){\r\n        this.side = 'front'\r\n      }else {\r\n        console.error('Has error in side')\r\n      }\r\n      \r\n    },\r\n    // подготовка данных после выбора категории\r\n    select_category(item){\r\n      let suitable_skeleton_points_list = this.bb_base_relations.skeletons_points.filter(elem => (elem.class.includes(item.id) && elem.side === this.side && elem.type === 'Plus'))\r\n      let suitable_parts_points_list = this.bb_base_relations.list_parts_points.filter(elem => (elem.class.includes(item.id) && elem.side === this.side && elem.type === 'Plus'))\r\n      \r\n      \r\n      // if(item.parent === 'skeleton'){\r\n      if(suitable_skeleton_points_list.length > 0 && suitable_parts_points_list.length === 0){\r\n        // список подходящих точек скелета\r\n        let list_ids_suitable_skeleton_points = []\r\n        for(let i = 0; i < this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids.length; i++){\r\n          if(\r\n            parseInt(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i].class_id) === parseInt(item.id) &&\r\n            this.bb_base_relations.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i].point_id))[0].side === this.side\r\n          ){\r\n            list_ids_suitable_skeleton_points.push(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i])\r\n          }\r\n        }\r\n\r\n        if(list_ids_suitable_skeleton_points.length === 0) return\r\n        \r\n        // список данных для обвесов\r\n        let list = []\r\n        for(let i = 0; i < this.bb_base_relations.list_parts_points.length; i++){\r\n          if(this.bb_base_relations.list_parts_points[i].class.includes(item.id) && this.bb_base_relations.list_parts_points[i].type === 'Minus' && this.bb_base_relations.list_parts_points[i].side === this.side){\r\n            for(let j = 0; j < this.bb_base_relations.all_parts_data.length; j++){\r\n              if(parseInt(this.bb_base_relations.all_parts_data[j].id) === parseInt(this.bb_base_relations.list_parts_points[i].part_id)){\r\n                list.push({\r\n                  part_id: parseInt(this.bb_base_relations.all_parts_data[j].id),\r\n                  part_point_id: parseInt(this.bb_base_relations.list_parts_points[i].id),\r\n                  skeleton_suitable_points: list_ids_suitable_skeleton_points\r\n                })\r\n              }\r\n            }\r\n          }\r\n        }\r\n        \r\n        this.suitable_attachment = list\r\n      // }else if(item.parent === 'part'){\r\n      }else if(suitable_skeleton_points_list.length === 0 && suitable_parts_points_list.length > 0){\r\n        // список подходящих точек обвесов\r\n        let list_ids_suitable_parent_part_points = []\r\n        for(let i = 0; i < this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids.length; i++){\r\n          if(\r\n            parseInt(this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids[i].class_id) === parseInt(item.id) &&\r\n            this.bb_base_relations.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids[i].point_id))[0].side === this.side\r\n          ){\r\n            list_ids_suitable_parent_part_points.push(this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids[i])\r\n          }\r\n        }\r\n\r\n        if(list_ids_suitable_parent_part_points.length === 0) return\r\n\r\n        // список данных для обвесов\r\n        let list = []\r\n        for(let i = 0; i < this.bb_base_relations.list_parts_points.length; i++){\r\n          if(this.bb_base_relations.list_parts_points[i].class.includes(item.id) && this.bb_base_relations.list_parts_points[i].type === \"Minus\" && this.bb_base_relations.list_parts_points[i].side === this.side){\r\n            for(let j = 0; j < this.bb_base_relations.all_parts_data.length; j++){\r\n              if(parseInt(this.bb_base_relations.all_parts_data[j].id) === parseInt(this.bb_base_relations.list_parts_points[i].part_id)){\r\n                list.push({\r\n                  part_id: parseInt(this.bb_base_relations.all_parts_data[j].id),\r\n                  part_point_id: parseInt(this.bb_base_relations.list_parts_points[i].id),\r\n                  parent_part_suitable_points: list_ids_suitable_parent_part_points\r\n                })\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        this.suitable_attachment = list\r\n      }else{\r\n        // список подходящих точек скелета\r\n        let list_ids_suitable_skeleton_points = []\r\n        for(let i = 0; i < this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids.length; i++){\r\n          if(\r\n            parseInt(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i].class_id) === parseInt(item.id) &&\r\n            this.bb_base_relations.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i].point_id))[0].side === this.side\r\n          ){\r\n            list_ids_suitable_skeleton_points.push(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i])\r\n          }\r\n        }\r\n\r\n        if(list_ids_suitable_skeleton_points.length === 0) return\r\n\r\n        // список подходящих точек обвесов\r\n        let list_ids_suitable_parent_part_points = []\r\n        for(let i = 0; i < this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids.length; i++){\r\n          if(\r\n            parseInt(this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids[i].class_id) === parseInt(item.id) &&\r\n            this.bb_base_relations.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids[i].point_id))[0].side === this.side\r\n          ){\r\n            list_ids_suitable_parent_part_points.push(this.bb_base_relations.list_parent_part_point_id_and_their_classes_ids[i])\r\n          }\r\n        }\r\n\r\n        if(list_ids_suitable_parent_part_points.length === 0) return\r\n\r\n        // список данных для обвесов\r\n        let list = []\r\n        for(let i = 0; i < this.bb_base_relations.list_parts_points.length; i++){\r\n          if(this.bb_base_relations.list_parts_points[i].class.includes(item.id) && this.bb_base_relations.list_parts_points[i].type === \"Minus\" && this.bb_base_relations.list_parts_points[i].side === this.side){\r\n            for(let j = 0; j < this.bb_base_relations.all_parts_data.length; j++){\r\n              if(parseInt(this.bb_base_relations.all_parts_data[j].id) === parseInt(this.bb_base_relations.list_parts_points[i].part_id)){\r\n                list.push({\r\n                  part_id: parseInt(this.bb_base_relations.all_parts_data[j].id),\r\n                  part_point_id: parseInt(this.bb_base_relations.list_parts_points[i].id),\r\n                  parent_part_suitable_points: list_ids_suitable_parent_part_points,\r\n                  skeleton_suitable_points: list_ids_suitable_skeleton_points\r\n                })\r\n              }\r\n            }\r\n          }\r\n        }\r\n        \r\n        this.suitable_attachment = list\r\n      }\r\n    },\r\n    // получаем данные для вывода имени и изображения элемента выбора обвеса\r\n    get_part_name_img(item){\r\n      if(item.skeleton_suitable_points){\r\n        let answ = {\r\n          name: this.bb_base_relations.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].name,\r\n          img: this.bb_base_relations.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_front,\r\n          part_id: parseInt(item.part_id),\r\n          part_point_id: parseInt(item.part_point_id),\r\n          skeleton_suitable_points: item.skeleton_suitable_points\r\n        }\r\n        return answ\r\n      }else if(item.parent_part_suitable_points){\r\n        let answ = {\r\n          name: this.bb_base_relations.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].name,\r\n          img: this.bb_base_relations.all_parts_data.filter(elem => parseInt(elem.id) === parseInt(item.part_id))[0].image_front,\r\n          part_id: parseInt(item.part_id),\r\n          part_point_id: parseInt(item.part_point_id),\r\n          part_suitable_points: item.part_suitable_points\r\n        }\r\n        return answ\r\n      }\r\n    },\r\n    // валидчия выбора обвеса\r\n    validation_selected_item(item){\r\n      this.intermediate_attach_data = null\r\n      if(item.skeleton_suitable_points && !item.parent_part_suitable_points){\r\n        if(item.skeleton_suitable_points.length <= 1){\r\n          this.push_to_selected_list({\r\n            part_id: parseInt(item.part_id),\r\n            part_point_id: parseInt(item.part_point_id),\r\n            skeleton_point_id: parseInt(item.skeleton_suitable_points[0].point_id)\r\n          })\r\n        }else{\r\n          this.select_skeleton_point_dialog = true\r\n          this.list_for_select_skeleton_point = []\r\n          this.selected_point_data = {\r\n            part_id: parseInt(item.part_id),\r\n            part_point_id: parseInt(item.part_point_id)\r\n          }\r\n            \r\n          for(let i = 0; i < item.skeleton_suitable_points.length; i++){\r\n            this.list_for_select_skeleton_point.push(\r\n              {\r\n                skeleton_point_id: item.skeleton_suitable_points[i].point_id,\r\n                skeleton_point_name: this.bb_base_relations.skeletons_points.filter(elem => elem.id === item.skeleton_suitable_points[i].point_id)[0].name\r\n              }\r\n            )\r\n          }\r\n        }\r\n      }else if(item.parent_part_suitable_points && !item.skeleton_suitable_points){\r\n        if(item.parent_part_suitable_points.length <= 1){\r\n          this.install_parent_attach(parseInt(item.parent_part_suitable_points[0].point_id))\r\n          this.push_to_selected_list({\r\n            part_id: parseInt(item.part_id),\r\n            part_point_id: parseInt(item.part_point_id),\r\n            parent_part_point_id: parseInt(item.parent_part_suitable_points[0].point_id)\r\n          })\r\n        }else{\r\n          this.select_parent_part_point_dialog = true\r\n          this.list_for_select_skeleton_point = []\r\n          this.selected_point_data = {\r\n            part_id: parseInt(item.part_id),\r\n            part_point_id: parseInt(item.part_point_id)\r\n          }\r\n          \r\n          for(let i = 0; i < item.parent_part_suitable_points.length; i++){\r\n            this.list_for_select_skeleton_point.push(\r\n              {\r\n                parent_part_point_id: item.parent_part_suitable_points[i].point_id,\r\n                parent_part_point_name: this.bb_base_relations.list_parts_points.filter(elem => elem.id === item.parent_part_suitable_points[i].point_id)[0].name\r\n              }\r\n            )\r\n          }\r\n        }\r\n      }else if(item.parent_part_suitable_points && item.skeleton_suitable_points){\r\n        this.select_parent_part_or_skeleton = true\r\n        this.intermediate_attach_data = item\r\n      }else{\r\n        console.error('Error validation!!!')\r\n      }\r\n    },\r\n    // добавление  элемента массива выбраных обвессов\r\n    push_to_selected_list(item){\r\n      for(let i = 0; i < this.list_selected_attach[this.side].length; i++){\r\n        if(item.skeleton_point_id){\r\n          if(this.list_selected_attach[this.side][i].skeleton_point_id === item.skeleton_point_id){\r\n            this.delete_of_the_selected_list(this.list_selected_attach[this.side][i])\r\n          }\r\n        }\r\n      }\r\n      this.list_selected_attach[this.side].push(item)\r\n\r\n      // Добавляем свЯзаные обвесы на другую\r\n      this.install_related_attachment()\r\n      \r\n    },\r\n    //  удаление элемента массива выбраных обвессов\r\n    delete_of_the_selected_list(item){\r\n      // Добавляем свЯзаные обвесы на другую\r\n      this.install_related_attachment()\r\n      \r\n      if(this.side === 'front'){\r\n        if((this.bb_base_relations.list_parts_points.filter(elem => (parseInt(elem.part_id) === parseInt(this.bb_base_relations.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].part_id) && elem.type === \"Plus\"))).length > 0){\r\n          let children_id = this.bb_base_relations.list_parts_points.filter(elem => (parseInt(elem.part_id) === parseInt(this.bb_base_relations.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].part_id) && elem.type === \"Plus\" && elem.side === 'front'))[0].id\r\n\r\n          for(let i = 0; i < this.list_selected_attach['front'].length; i++){\r\n            if(\r\n              parseInt(this.list_selected_attach['front'][i].parent_part_point_id) === parseInt(children_id)\r\n            ){\r\n              for(let j = 0; j < this.list_selected_attach['back'].length; j++){\r\n                if(\r\n                  parseInt(this.list_selected_attach['back'][j].part_point_id) === parseInt(this.bb_base_relations.list_parts_points.filter(item => parseInt(item.related_id) === parseInt(this.list_selected_attach['front'][i].part_point_id))[0].id)\r\n                ){\r\n                  this.list_selected_attach['back'].splice(j, 1)\r\n                }\r\n              }\r\n              this.list_selected_attach['front'].splice(i, 1)\r\n            }\r\n          }\r\n        }\r\n        for(let i = 0; i < this.list_selected_attach['front'].length; i++){\r\n          if(\r\n            parseInt(this.list_selected_attach['front'][i].part_id) === parseInt(item.part_id) &&\r\n            parseInt(this.list_selected_attach['front'][i].part_point_id) === parseInt(item.part_point_id)\r\n          ){\r\n            for(let j = 0; j < this.list_selected_attach['back'].length; j++){\r\n              if(\r\n                parseInt(this.list_selected_attach['back'][j].part_point_id) === parseInt(this.bb_base_relations.list_parts_points.filter(item => parseInt(item.related_id) === parseInt(this.list_selected_attach['front'][i].part_point_id))[0].id)\r\n              ){\r\n                this.list_selected_attach['back'].splice(j, 1)\r\n              }\r\n            }\r\n            this.list_selected_attach['front'].splice(i, 1)\r\n          }\r\n        }\r\n      }else if(this.side === 'back'){\r\n        if((this.bb_base_relations.list_parts_points.filter(elem => (parseInt(elem.part_id) === parseInt(this.bb_base_relations.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].part_id) && elem.type === \"Plus\"))).length > 0){\r\n          let children_id = this.bb_base_relations.list_parts_points.filter(elem => (parseInt(elem.part_id) === parseInt(this.bb_base_relations.list_parts_points.filter(elem => parseInt(elem.id) === parseInt(item.part_point_id))[0].part_id) && elem.type === \"Plus\" && elem.side === 'back'))[0].id\r\n          \r\n          for(let i = 0; i < this.list_selected_attach['back'].length; i++){\r\n            if(\r\n              parseInt(this.list_selected_attach['back'][i].parent_part_point_id) === parseInt(children_id)\r\n            ){\r\n              for(let j = 0; j < this.list_selected_attach['front'].length; j++){\r\n                if(\r\n                  parseInt(this.list_selected_attach['front'][j].part_point_id) === parseInt(this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(this.list_selected_attach['back'][i].part_point_id))[0].related_id)\r\n                ){\r\n                  this.list_selected_attach['front'].splice(j, 1)\r\n                }\r\n              }\r\n              this.list_selected_attach['back'].splice(i, 1)\r\n            }\r\n          }\r\n        }\r\n        for(let i = 0; i < this.list_selected_attach['back'].length; i++){\r\n          if(\r\n            parseInt(this.list_selected_attach['back'][i].part_id) === parseInt(item.part_id) &&\r\n            parseInt(this.list_selected_attach['back'][i].part_point_id) === parseInt(item.part_point_id)\r\n          ){\r\n            for(let j = 0; j < this.list_selected_attach['front'].length; j++){\r\n              if(\r\n                parseInt(this.list_selected_attach['front'][j].part_point_id) === parseInt(this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(this.list_selected_attach['back'][i].part_point_id))[0].related_id)\r\n              ){\r\n                this.list_selected_attach['front'].splice(j, 1)\r\n              }\r\n            }\r\n            this.list_selected_attach['back'].splice(i, 1)\r\n          }\r\n        }\r\n      }\r\n      \r\n    },\r\n    // узнаем есть ли искомый элемент в массиве вырбаных обвесов\r\n    detect_selected_attach(item){\r\n      let answer = false\r\n      for(let i = 0; i < this.list_selected_attach[this.side].length; i++){\r\n        if(\r\n          this.list_selected_attach[this.side][i].part_id === item.part_id &&\r\n          this.list_selected_attach[this.side][i].part_point_id === item.part_point_id\r\n        ){\r\n          answer = true\r\n        }\r\n      }\r\n      return answer\r\n    },\r\n    // обработка формы\r\n    form_valid_skeleton(){\r\n      this.$v.$touch();\r\n      if (!this.$v.$invalid) {\r\n        this.select_skeleton_point_dialog = !this.select_skeleton_point_dialog\r\n        this.selected_point_data['skeleton_point_id'] = this.selected_point //\r\n      \r\n        this.push_to_selected_list(this.selected_point_data)\r\n        // \r\n        this.selected_point = null\r\n        this.selected_point_data = null\r\n      }\r\n    },\r\n    form_valid_parent_part(){\r\n      this.$v.$touch();\r\n      if (!this.$v.selected_point.$invalid) {\r\n        this.select_parent_part_point_dialog = !this.select_parent_part_point_dialog\r\n        this.selected_point_data['parent_part_point_id'] = this.selected_point\r\n        \r\n        this.install_parent_attach(this.selected_point_data.parent_part_point_id)\r\n\r\n        this.push_to_selected_list(this.selected_point_data)\r\n        \r\n        // \r\n        this.selected_point = null\r\n        this.selected_point_data = null\r\n      }\r\n    },\r\n    form_valid_part_or_skeleton(){\r\n      this.$v.$touch();\r\n      if (!this.$v.part_or_skeleton.$invalid) {\r\n        this.select_parent_part_or_skeleton = !this.select_parent_part_or_skeleton\r\n\r\n        if(this.part_or_skeleton === 'skeleton'){\r\n          let item = {\r\n            part_id: parseInt(this.intermediate_attach_data.part_id),\r\n            part_point_id: parseInt(this.intermediate_attach_data.part_point_id),\r\n            skeleton_suitable_points: this.intermediate_attach_data.skeleton_suitable_points\r\n          }\r\n          this.validation_selected_item(item)\r\n        }else if(this.part_or_skeleton === 'part'){\r\n          let item = {\r\n            part_id: parseInt(this.intermediate_attach_data.part_id),\r\n            part_point_id: parseInt(this.intermediate_attach_data.part_point_id),\r\n            parent_part_suitable_points: this.intermediate_attach_data.parent_part_suitable_points\r\n          }\r\n          this.validation_selected_item(item)\r\n        }else{\r\n          console.error('Error choosing between skeleton and part')\r\n        }\r\n      this.part_or_skeleton = null\r\n      this.intermediate_attach_data = null\r\n      }\r\n    },\r\n    // обнуление формы\r\n    cancel_form_skeleton(){\r\n      this.select_skeleton_point_dialog = false\r\n      this.list_for_select_skeleton_point = []\r\n      // \r\n      this.selected_point = null\r\n      this.selected_point_data = null\r\n    },\r\n    // обнуление формы\r\n    cancel_form_parent_part(){\r\n      this.select_parent_part_point_dialog = false\r\n      this.list_for_select_skeleton_point = []\r\n      // \r\n      this.selected_point = null\r\n      this.selected_point_data = null\r\n    },\r\n    cancel_form_part_or_skeleton(){\r\n      this.select_parent_part_or_skeleton = false\r\n      this.part_or_skeleton = null\r\n    },\r\n    // установка родительского обвеса\r\n    install_parent_attach(child_id){\r\n      let current_part_point_id = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.part_id) === parseInt(this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(child_id))[0].part_id)).filter(item => (item.type === \"Minus\" && item.side === this.side))[0].id\r\n\r\n      let curent_part_point_classes_list = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(current_part_point_id))[0].class\r\n\r\n      let list_ids_suitable_skeleton_points = []\r\n      for(let i = 0; i < this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids.length; i++){\r\n        for(let j = 0; j < curent_part_point_classes_list.length; j++){\r\n          if(\r\n            this.bb_base_relations.skeletons_points.filter(elem => parseInt(elem.id) === parseInt(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i].point_id))[0].side === this.side &&\r\n            parseInt(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i].class_id) === parseInt(curent_part_point_classes_list[j])\r\n          ){\r\n            list_ids_suitable_skeleton_points.push(this.bb_base_relations.list_skeleton_point_id_and_their_classes_ids[i])\r\n          }\r\n        }\r\n      }\r\n      \r\n      let create_item = {\r\n        part_point_id: current_part_point_id,\r\n        part_id: this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(current_part_point_id))[0].part_id,\r\n        skeleton_suitable_points: list_ids_suitable_skeleton_points\r\n      }\r\n      \r\n      this.validation_selected_item(create_item)\r\n    },\r\n    install_related_attachment(){\r\n      if(this.side === 'front'){\r\n        for(let i = 0; i < this.list_selected_attach.front.length; i++){\r\n          if(this.list_selected_attach.front[i].skeleton_point_id){\r\n            let current_part_point = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.related_id) === parseInt(this.list_selected_attach.front[i].part_point_id))[0]\r\n            let current_skeleton_point = this.bb_base_relations.skeletons_points.filter(item => parseInt(item.related_id) === parseInt(this.list_selected_attach.front[i].skeleton_point_id))[0]\r\n\r\n            let push_in_item = {\r\n              part_id: parseInt(current_part_point.part_id),\r\n              part_point_id: parseInt(current_part_point.id),\r\n              skeleton_point_id: parseInt(current_skeleton_point.id)\r\n            }\r\n\r\n            if(this.list_selected_attach.back.length === 0){\r\n              this.list_selected_attach.back.push(push_in_item)\r\n            }else{\r\n              if(\r\n                this.list_selected_attach.back.map( \r\n                  item => (\r\n                    parseInt(item.part_id) === parseInt(push_in_item.part_id) && \r\n                    parseInt(item.part_point_id) === parseInt(push_in_item.part_point_id) && \r\n                    parseInt(item.skeleton_point_id) === parseInt(push_in_item.skeleton_point_id) \r\n                  ) \r\n                ).includes(true)\r\n              ){\r\n                continue\r\n              }else{\r\n                this.list_selected_attach.back.push(push_in_item)\r\n              }\r\n            }\r\n          }else if(this.list_selected_attach.front[i].parent_part_point_id){\r\n            let current_part_point = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.related_id) === parseInt(this.list_selected_attach.front[i].part_point_id))[0]\r\n            let curent_parent_part_point = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.related_id) === parseInt(this.list_selected_attach.front[i].parent_part_point_id))[0]\r\n\r\n            let push_in_item = {\r\n              part_id: parseInt(current_part_point.part_id),\r\n              part_point_id: parseInt(current_part_point.id),\r\n              parent_part_point_id: parseInt(curent_parent_part_point.id)\r\n            }\r\n            \r\n\r\n            if(this.list_selected_attach.back.length === 0){\r\n              this.list_selected_attach.back.push(push_in_item)\r\n            }else{\r\n              if(\r\n                this.list_selected_attach.back.map( \r\n                  item => (\r\n                    parseInt(item.part_id) === parseInt(push_in_item.part_id) && \r\n                    parseInt(item.part_point_id) === parseInt(push_in_item.part_point_id) && \r\n                    parseInt(item.parent_part_point_id) === parseInt(push_in_item.parent_part_point_id) \r\n                  ) \r\n                ).includes(true)\r\n              ){\r\n                continue\r\n              }else{\r\n                this.list_selected_attach.back.push(push_in_item)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }else if(this.side === 'back'){\r\n        for(let i = 0; i < this.list_selected_attach.back.length; i++){\r\n          if(this.list_selected_attach.back[i].skeleton_point_id){\r\n            let part_point = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(this.list_selected_attach.back[i].part_point_id))[0]\r\n            let skeleton_point = this.bb_base_relations.skeletons_points.filter(item => parseInt(item.id) === parseInt(this.list_selected_attach.back[i].skeleton_point_id))[0]\r\n\r\n            let push_in_item = {\r\n              part_id: parseInt(part_point.part_id),\r\n              part_point_id: parseInt(part_point.related_id),\r\n              skeleton_point_id: parseInt(skeleton_point.related_id)\r\n            }\r\n            \r\n            if(this.list_selected_attach.front.length === 0){\r\n              this.list_selected_attach.front.push(push_in_item)\r\n            }else{\r\n              if(\r\n                this.list_selected_attach.front.map( \r\n                  item => (\r\n                    parseInt(item.part_id) === parseInt(push_in_item.part_id) && \r\n                    parseInt(item.part_point_id) === parseInt(push_in_item.part_point_id) && \r\n                    parseInt(item.skeleton_point_id) === parseInt(push_in_item.skeleton_point_id) \r\n                  ) \r\n                ).includes(true)\r\n              ){\r\n                continue\r\n              }else{\r\n                this.list_selected_attach.front.push(push_in_item)\r\n              }\r\n            }\r\n\r\n          }else if(this.list_selected_attach.back[i].parent_part_point_id){\r\n            let part_point = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(this.list_selected_attach.back[i].part_point_id))[0]\r\n            let parent_part_point = this.bb_base_relations.list_parts_points.filter(item => parseInt(item.id) === parseInt(this.list_selected_attach.back[i].parent_part_point_id))[0]\r\n\r\n            let push_in_item = {\r\n              part_id: parseInt(part_point.part_id),\r\n              part_point_id: parseInt(part_point.related_id),\r\n              parent_part_point_id: parseInt(parent_part_point.related_id)\r\n            }\r\n\r\n            if(this.list_selected_attach.front.length === 0){\r\n              this.list_selected_attach.front.push(push_in_item)\r\n            }else{\r\n              if(\r\n                this.list_selected_attach.front.map( \r\n                  item => (\r\n                    parseInt(item.part_id) === parseInt(push_in_item.part_id) && \r\n                    parseInt(item.part_point_id) === parseInt(push_in_item.part_point_id) && \r\n                    parseInt(item.parent_part_point_id) === parseInt(push_in_item.parent_part_point_id) \r\n                  ) \r\n                ).includes(true)\r\n              ){\r\n                continue\r\n              }else{\r\n                this.list_selected_attach.front.push(push_in_item)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } \r\n    },\r\n    // сохраняем данные на сервере\r\n    save_base_builder_data(){\r\n      let data = []\r\n      for(let i = 0 ;i < this.list_selected_attach['front'].length; i++){\r\n        data.push({\r\n          base_id: parseInt(this.$route.params.id),\r\n          ...this.list_selected_attach['front'][i]\r\n        })\r\n      }\r\n      for(let i = 0 ;i < this.list_selected_attach['back'].length; i++){\r\n        data.push({\r\n          base_id: parseInt(this.$route.params.id),\r\n          ...this.list_selected_attach['back'][i]\r\n        })\r\n      }\r\n      \r\n      this.$store.dispatch('bb_save_base_builder_attach', data)\r\n    }\r\n  },\r\n  computed: {\r\n    // получаем комплексные данные base builder\r\n    bb_base_relations(){\r\n      let list = this.$store.getters.bb_base_relations\r\n      return list\r\n    },\r\n    // валидачия диалога\r\n    selected_point_error() {\r\n      const errors = [];\r\n      if (!this.$v.selected_point.$dirty) return errors;\r\n      !this.$v.selected_point.required && errors.push(\"Point is required.\");\r\n      return errors;\r\n    },\r\n    part_or_skeleton_error() {\r\n      const errors = [];\r\n      if (!this.$v.part_or_skeleton.$dirty) return errors;\r\n      !this.$v.part_or_skeleton.required && errors.push(\"Required.\");\r\n      return errors;\r\n    },\r\n    bb_load_base_relations_status(){\r\n      return this.$store.getters.bb_load_base_relations_status\r\n    },\r\n    merge_classes(){\r\n      let list = false\r\n      if(this.bb_base_relations.list_data_of_used_classes_for_skeleton && this.bb_base_relations.list_data_of_used_classes_for_part){\r\n        list = Array.from(new Set(this.bb_base_relations.list_data_of_used_classes_for_skeleton.concat(this.bb_base_relations.list_data_of_used_classes_for_part)))\r\n      }\r\n      return list\r\n    },\r\n    bb_base_by_id(){\r\n        let list = []\r\n      if(this.$store.getters.bb_base_by_id[0]){\r\n          list = this.$store.getters.bb_base_by_id[0]\r\n            this.$store.dispatch('bb_load_base_relations', parseInt(list.skeleton_id))\r\n      }\r\n      return list\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Update.vue?vue&type=template&id=71730b70&\"\nimport script from \"./Update.vue?vue&type=script&lang=js&\"\nexport * from \"./Update.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContent,VDialog,VDivider,VIcon,VRow,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-row',{attrs:{\"align\":\"end\"}},[_c('v-col',[_c('label',[_c('strong',[_vm._v(\"Choose skelet and set name\")])]),_c('v-text-field',{attrs:{\"error-messages\":_vm.nameErrors,\"required\":\"\",\"label\":\"Enter base name: *\"},on:{\"input\":function($event){return _vm.$v.name.$touch()},\"blur\":function($event){return _vm.$v.name.$touch()}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-select',{attrs:{\"items\":_vm.skeletons,\"error-messages\":_vm.selectedSkeletErrors,\"item-value\":\"id\",\"item-text\":\"name\",\"required\":\"\",\"disabled\":_vm.update,\"label\":\"Select skeleton *\"},on:{\"input\":function($event){return _vm.$v.selectedSkelet.$touch()},\"blur\":function($event){return _vm.$v.selectedSkelet.$touch()}},model:{value:(_vm.selectedSkelet),callback:function ($$v) {_vm.selectedSkelet=$$v},expression:\"selectedSkelet\"}}),_c('v-select',{attrs:{\"items\":_vm.categorys,\"error-messages\":_vm.selectedCategoryErrors,\"item-value\":\"id\",\"item-text\":\"name\",\"required\":\"\",\"label\":\"Select category *\"},on:{\"input\":function($event){return _vm.$v.selectedCategory.$touch()},\"blur\":function($event){return _vm.$v.selectedCategory.$touch()}},model:{value:(_vm.selectedCategory),callback:function ($$v) {_vm.selectedCategory=$$v},expression:\"selectedCategory\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-textarea',{attrs:{\"label\":\"Enter base description\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}}),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-content>\r\n    <v-row align=\"end\">\r\n      <v-col>\r\n        <label>\r\n          <strong>Choose skelet and set name</strong>\r\n        </label>\r\n        <v-text-field\r\n          v-model=\"name\"\r\n          :error-messages=\"nameErrors\"\r\n          required\r\n          @input=\"$v.name.$touch()\"\r\n          @blur=\"$v.name.$touch()\"\r\n          label=\"Enter base name: *\"\r\n        ></v-text-field>\r\n        <v-select\r\n          :items=\"skeletons\"\r\n          v-model=\"selectedSkelet\"\r\n          :error-messages=\"selectedSkeletErrors\"\r\n          item-value=\"id\"\r\n          item-text=\"name\"\r\n          required\r\n          :disabled=\"update\"\r\n          @input=\"$v.selectedSkelet.$touch()\"\r\n          @blur=\"$v.selectedSkelet.$touch()\"\r\n          label=\"Select skeleton *\"\r\n        ></v-select>\r\n        <v-select\r\n          :items=\"categorys\"\r\n          v-model=\"selectedCategory\"\r\n          :error-messages=\"selectedCategoryErrors\"\r\n          item-value=\"id\"\r\n          item-text=\"name\"\r\n          required\r\n          @input=\"$v.selectedCategory.$touch()\"\r\n          @blur=\"$v.selectedCategory.$touch()\"\r\n          label=\"Select category *\"\r\n        ></v-select>\r\n      </v-col>\r\n      <v-col cols=\"6\">\r\n        <v-textarea v-model=\"description\" label=\"Enter base description\"></v-textarea>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"6\"></v-col>\r\n      <v-col cols=\"6\">\r\n        <v-btn color=\"primary\" block @click=\"save\">Save</v-btn>\r\n      </v-col>\r\n    </v-row>\r\n  </v-content>\r\n</template>\r\n\r\n<script>\r\nimport { validationMixin } from \"vuelidate\";\r\nimport { required } from \"vuelidate/lib/validators\";\r\nexport default {\r\n  props: [\"baseData\", \"update\", \"bb_base_relations\"],\r\n  mixins: [validationMixin],\r\n  validations: {\r\n    name: { required },\r\n    selectedSkelet: { required },\r\n    selectedCategory: { required }\r\n  },\r\n  data() {\r\n    return {\r\n      name: this.baseData ? this.baseData.name : null,\r\n      selectedSkelet: this.baseData ? this.baseData.skeleton_id : null,\r\n      selectedCategory: this.baseData ? this.baseData.category : null,\r\n      description: this.baseData ? this.baseData.description : null\r\n    };\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"load_all_categoryes\");\r\n    this.$store.dispatch(\"sb_load_all_skeletons\");\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    save() {\r\n      this.$v.$touch();\r\n      if (!this.$v.$invalid) {\r\n        const data = {\r\n          name: this.name,\r\n          skeleton_id: this.selectedSkelet,\r\n          category: this.selectedCategory,\r\n          description: this.description\r\n        };\r\n        this.$emit(\"resolve\", { isValid: !this.$v.$invalid, data: data });\r\n      } else {\r\n        this.$emit(\"reject\", { isValid: !this.$v.$invalid });\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    skeletons() {\r\n      let list = []\r\n      if(this.$store.getters.sb_all_skeletons_data.data){\r\n        list = this.$store.getters.sb_all_skeletons_data.data;\r\n      }\r\n      return list\r\n    },\r\n    categorys() {\r\n      return this.$store.getters.all_categoryes;\r\n    },\r\n    \r\n    // валидация форм\r\n    //\r\n    nameErrors() {\r\n      const errors = [];\r\n      if (!this.$v.name.$dirty) return errors;\r\n      !this.$v.name.required && errors.push(\"Name is required.\");\r\n      return errors;\r\n    },\r\n    selectedSkeletErrors() {\r\n      const errors = [];\r\n      if (!this.$v.selectedSkelet.$dirty) return errors;\r\n      !this.$v.selectedSkelet.required && errors.push(\"Skelet is required.\");\r\n      return errors;\r\n    },\r\n    selectedCategoryErrors() {\r\n      const errors = [];\r\n      if (!this.$v.selectedCategory.$dirty) return errors;\r\n      !this.$v.selectedCategory.required &&\r\n        errors.push(\"Category is required.\");\r\n      return errors;\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseSkelet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseSkelet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChooseSkelet.vue?vue&type=template&id=c637e8a2&\"\nimport script from \"./ChooseSkelet.vue?vue&type=script&lang=js&\"\nexport * from \"./ChooseSkelet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCol,VContent,VRow,VSelect,VTextField,VTextarea})\n"],"sourceRoot":""}